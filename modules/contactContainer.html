<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="addContact.html">
<link rel="import" href="contact-detail.html">
<link rel="import" href="contactList.html">
<link rel="import" href="barra-buscar.html">

<dom-module id="contact-container">
  <template>

  
    <style>
      :host{
        width: 100%;
        height: 100%;
        font-size: 16px;
      }

      .container {
          display: flex;
          flex-wrap: wrap;
          width: 80%;
          margin:20px auto;
          border: 3px solid #eee;
      }

      .add-forum {
        height: 60px;
        align-self: auto;
        width: 20%;

      }

      .header-forum {

        height: 60px;
        align-self: auto;
        width: 100%;
        background-color: var(--main-header-bgcolor,#3f51b5);
        color:#FFF;
        display: flex;
        align-items: center;
        justify-content: center;


  
      }

      .header-title{
        margin:0;
        text-align: center;
        font-size: 1.3rem;
        display: flex;
        align-self: center;
      }

      .forum-list {
        flex:1;
        min-height: 250px;
        background-color: #FAFAFA;
      }

      .forum-sub-container {
        width: 80%;
        position: relative;
      }

      .forum-answers {
        flex:0 0 100%;
        margin: 10px 0;
      }

      .forum-response {
        flex: 0 0 100%;
        margin: 10px 0;
  
        bottom: 0;
        width: 98%;
      }

    </style>

<!--     <div class="principal">
      <div>
        <add-contact></add-contact>
        <barra-buscar></barra-buscar>
        <contact-list contacts="[[contacts]]"></contact-list>
      </div>
      <div>
        <contact-detail contact="[[contact]]"></contact-detail>
      </div>
    </div>
 -->

    <div class="container">

      <div class="header-forum">
        <h3 class="header-title">Lista de contactos</h3>
      </div>

      <div class="forum-list">
        <contact-list contacts="[[contacts]]"></contact-list>
      </div>

      <div class="forum-sub-container">
        <contact-detail contact="[[contact]]"></contact-detail>      
<!--         <div class="forum-answers">
          <forum-answers forum="[[forum]]"></forum-answers>
        </div> -->
      </div>
    </div> 

    <add-contact></add-contact>     
  </template>
  <script>
  (function contactcontainer(customElements) {

    class ContactListContainer extends Polymer.Element{

      static get is (){return "contact-container"}

      static get properties(){
        return {
          contacts:{
            type:Array,
            value:[
              {name:`Margarito`, lastName:`Mancilla `, telephone:`555-444-4444`,bio:`asdasdasdasdasdasdasdasdasdasdqas`, address:`calle conocida, s/n, ciudad esta ciudad`, email:`usuario@correo.com`},
              {name:`Juan`, lastName:`Perez Moran`,telephone:`555-232-3322`, bio:`Texto de prueba xD ......`, address:`calle no conocida, 6969, ciudad otra ciudad ciudad`, email:`otrousuario@correo.comx`}
            ]
          },
          contact:{
            type:Object,
            value:{},
            
          },

        }
      }


      
      connectedCallback() {
        super.connectedCallback();
        this.addEventListener(`on-index-changed`, this._indexChanged);
        this.addEventListener('contact-changed',this._pushData);
        this.contact = this.contacts[0];
      }

      _pushData(event) {
        this.push('contacts',event.detail);
      }

      _indexChanged(event) {
        console.log(event.detail)
        this.contact = this.contacts[event.detail.index];
      }

    }

    customElements.define(ContactListContainer.is,ContactListContainer);

  })(window.customElements);


    </script>
</dom-module>
