<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="addContact.html">
<link rel="import" href="contact-detail.html">
<link rel="import" href="contactList.html">
<link rel="import" href="barra-buscar.html">

<dom-module id="contact-container">
  <template>

  
    <style>
      .principal{
        width: 80%;
        margin: 0 auto;
      }

      .principal div:first-child{
        width: 20%;
        height: 500px;
        background-color: gray;
        color:#ffffff;
        float: left;
      }

      .principal div:last-child{
        width: 80%;
        height: 500px;
        background-color: darkgray;
        color:#ffffff;
        float: right;
      }

    </style>

    <div class="principal">
      <div>
        <add-contact></add-contact>
        <barra-buscar></barra-buscar>
        <contact-list contacts="[[contacts]]"></contact-list>
      </div>
      <div>
        <contact-detail contact="[[contact]]"></contact-detail>
      </div>
    </div>
  </template>
  <script>
  (function contactcontainer(customElements) {

    class ContactListContainer extends Polymer.Element{

      static get is (){return "contact-container"}

      static get properties(){
        return {
          contacts:{
            type:Array,
            value:[
              {name:`Margarito`, lastName:`Mancilla `, telephone:`555-444-4444`,bio:`asdasdasdasdasdasdasdasdasdasdqas`, address:`calle conocida, s/n, ciudad esta ciudad`, email:`usuario@correo.com`},
              {name:`Juan`, lastName:`Perez Moran`,telephone:`555-232-3322`, bio:`Texto de prueba xD ......`, address:`calle no conocida, 6969, ciudad otra ciudad ciudad`, email:`otrousuario@correo.comx`}
            ]
          },
          contact:{
            type:Object,
            value:{},
            notify:true
          }
        }
      }

      connectedCallback(){
        super.connectedCallback();
        this.addEventListener(`on-index-changed`, this._indexChanged)
        this.contact = this.contacts[0];
      }

      _indexChanged(e)
      {
        console.log(`evento cachado ${e.detail.index}`)
        this.contact = this.contacts[e.detail.index];
      }

    }

    customElements.define(ContactListContainer.is,ContactListContainer);

  })(window.customElements);


    </script>
</dom-module>
